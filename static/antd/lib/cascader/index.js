"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_LeftOutlined=_interopRequireDefault(require("@ant-design/icons/LeftOutlined")),_LoadingOutlined=_interopRequireDefault(require("@ant-design/icons/LoadingOutlined")),_RightOutlined=_interopRequireDefault(require("@ant-design/icons/RightOutlined")),_classnames=_interopRequireDefault(require("classnames")),_rcCascader=_interopRequireDefault(require("rc-cascader")),_omit=_interopRequireDefault(require("rc-util/lib/omit")),React=_interopRequireWildcard(require("react")),_configProvider=require("../config-provider"),_defaultRenderEmpty=_interopRequireDefault(require("../config-provider/defaultRenderEmpty")),_DisabledContext=_interopRequireDefault(require("../config-provider/DisabledContext")),_SizeContext=_interopRequireDefault(require("../config-provider/SizeContext")),_context=require("../form/context"),_iconUtil=_interopRequireDefault(require("../select/utils/iconUtil")),_motion=require("../_util/motion"),_statusUtils=require("../_util/statusUtils"),_warning=_interopRequireDefault(require("../_util/warning")),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},SHOW_CHILD=_rcCascader.default.SHOW_CHILD,SHOW_PARENT=_rcCascader.default.SHOW_PARENT;function highlightKeyword(str,lowerKeyword,prefixCls){var cells=str.toLowerCase().split(lowerKeyword).reduce((function(list,cur,index){return 0===index?[cur]:[].concat((0,_toConsumableArray2.default)(list),[lowerKeyword,cur])}),[]),fillCells=[],start=0;return cells.forEach((function(cell,index){var end=start+cell.length,originWorld=str.slice(start,end);start=end,index%2==1&&(originWorld=React.createElement("span",{className:"".concat(prefixCls,"-menu-item-keyword"),key:"seperator-".concat(index)},originWorld)),fillCells.push(originWorld)})),fillCells}var defaultSearchRender=function defaultSearchRender(inputValue,path,prefixCls,fieldNames){var optionList=[],lower=inputValue.toLowerCase();return path.forEach((function(node,index){0!==index&&optionList.push(" / ");var label=node[fieldNames.label],type=(0,_typeof2.default)(label);"string"!==type&&"number"!==type||(label=highlightKeyword(String(label),lower,prefixCls)),optionList.push(label)})),optionList},Cascader=React.forwardRef((function(props,ref){var _classNames2,customizePrefixCls=props.prefixCls,customizeSize=props.size,customDisabled=props.disabled,className=props.className,multiple=props.multiple,_props$bordered=props.bordered,bordered=void 0===_props$bordered||_props$bordered,transitionName=props.transitionName,_props$choiceTransiti=props.choiceTransitionName,choiceTransitionName=void 0===_props$choiceTransiti?"":_props$choiceTransiti,popupClassName=props.popupClassName,dropdownClassName=props.dropdownClassName,expandIcon=props.expandIcon,placement=props.placement,showSearch=props.showSearch,_props$allowClear=props.allowClear,allowClear=void 0===_props$allowClear||_props$allowClear,notFoundContent=props.notFoundContent,direction=props.direction,getPopupContainer=props.getPopupContainer,customStatus=props.status,showArrow=props.showArrow,rest=__rest(props,["prefixCls","size","disabled","className","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow"]),restProps=(0,_omit.default)(rest,["suffixIcon"]),_useContext=(0,React.useContext)(_configProvider.ConfigContext),getContextPopupContainer=_useContext.getPopupContainer,getPrefixCls=_useContext.getPrefixCls,renderEmpty=_useContext.renderEmpty,rootDirection=_useContext.direction,mergedDirection=direction||rootDirection,isRtl="rtl"===mergedDirection,_useContext2=(0,React.useContext)(_context.FormItemInputContext),contextStatus=_useContext2.status,hasFeedback=_useContext2.hasFeedback,isFormItemInput=_useContext2.isFormItemInput,feedbackIcon=_useContext2.feedbackIcon,mergedStatus=(0,_statusUtils.getMergedStatus)(contextStatus,customStatus);"production"!==process.env.NODE_ENV&&(0,_warning.default)(!dropdownClassName,"Cascader","`dropdownClassName` is deprecated which will be removed in next major version. Please use `popupClassName` instead."),"production"!==process.env.NODE_ENV&&(0,_warning.default)(!multiple||!props.displayRender,"Cascader","`displayRender` not work on `multiple`. Please use `tagRender` instead.");var mergedNotFoundContent=notFoundContent||(renderEmpty||_defaultRenderEmpty.default)("Cascader"),rootPrefixCls=getPrefixCls(),prefixCls=getPrefixCls("select",customizePrefixCls),cascaderPrefixCls=getPrefixCls("cascader",customizePrefixCls),mergedDropdownClassName=(0,_classnames.default)(popupClassName||dropdownClassName,"".concat(cascaderPrefixCls,"-dropdown"),(0,_defineProperty2.default)({},"".concat(cascaderPrefixCls,"-dropdown-rtl"),"rtl"===mergedDirection)),mergedShowSearch=React.useMemo((function(){if(!showSearch)return showSearch;var searchConfig={render:defaultSearchRender};return"object"===(0,_typeof2.default)(showSearch)&&(searchConfig=(0,_extends2.default)((0,_extends2.default)({},searchConfig),showSearch)),searchConfig}),[showSearch]),size=React.useContext(_SizeContext.default),mergedSize=customizeSize||size,disabled=React.useContext(_DisabledContext.default),mergedDisabled=customDisabled||disabled,mergedExpandIcon=expandIcon;expandIcon||(mergedExpandIcon=isRtl?React.createElement(_LeftOutlined.default,null):React.createElement(_RightOutlined.default,null));var loadingIcon=React.createElement("span",{className:"".concat(prefixCls,"-menu-item-loading-icon")},React.createElement(_LoadingOutlined.default,{spin:!0})),checkable=React.useMemo((function(){return!!multiple&&React.createElement("span",{className:"".concat(cascaderPrefixCls,"-checkbox-inner")})}),[multiple]),mergedShowArrow=void 0!==showArrow?showArrow:props.loading||!multiple,_getIcons=(0,_iconUtil.default)((0,_extends2.default)((0,_extends2.default)({},props),{hasFeedback,feedbackIcon,showArrow:mergedShowArrow,multiple,prefixCls})),suffixIcon=_getIcons.suffixIcon,removeIcon=_getIcons.removeIcon,clearIcon=_getIcons.clearIcon;return React.createElement(_rcCascader.default,(0,_extends2.default)({prefixCls,className:(0,_classnames.default)(!customizePrefixCls&&cascaderPrefixCls,(_classNames2={},(0,_defineProperty2.default)(_classNames2,"".concat(prefixCls,"-lg"),"large"===mergedSize),(0,_defineProperty2.default)(_classNames2,"".concat(prefixCls,"-sm"),"small"===mergedSize),(0,_defineProperty2.default)(_classNames2,"".concat(prefixCls,"-rtl"),isRtl),(0,_defineProperty2.default)(_classNames2,"".concat(prefixCls,"-borderless"),!bordered),(0,_defineProperty2.default)(_classNames2,"".concat(prefixCls,"-in-form-item"),isFormItemInput),_classNames2),(0,_statusUtils.getStatusClassNames)(prefixCls,mergedStatus,hasFeedback),className),disabled:mergedDisabled},restProps,{direction:mergedDirection,placement:function getPlacement(){return void 0!==placement?placement:"rtl"===direction?"bottomRight":"bottomLeft"}(),notFoundContent:mergedNotFoundContent,allowClear,showSearch:mergedShowSearch,expandIcon:mergedExpandIcon,inputIcon:suffixIcon,removeIcon,clearIcon,loadingIcon,checkable,dropdownClassName:mergedDropdownClassName,dropdownPrefixCls:customizePrefixCls||cascaderPrefixCls,choiceTransitionName:(0,_motion.getTransitionName)(rootPrefixCls,"",choiceTransitionName),transitionName:(0,_motion.getTransitionName)(rootPrefixCls,(0,_motion.getTransitionDirection)(placement),transitionName),getPopupContainer:getPopupContainer||getContextPopupContainer,ref,showArrow:hasFeedback||showArrow}))}));"production"!==process.env.NODE_ENV&&(Cascader.displayName="Cascader"),Cascader.SHOW_PARENT=SHOW_PARENT,Cascader.SHOW_CHILD=SHOW_CHILD;var _default=Cascader;exports.default=_default;